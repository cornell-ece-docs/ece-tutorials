<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <meta name="author" content="ECE Course Staff">
        
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>Section 8: Object-Oriented Programming Lab - ECE Common Course Tutorials</title>
        <link href="../css/bootstrap.min.css" rel="stylesheet">
        <link href="../css/fontawesome.min.css" rel="stylesheet">
        <link href="../css/brands.min.css" rel="stylesheet">
        <link href="../css/solid.min.css" rel="stylesheet">
        <link href="../css/v4-font-face.min.css" rel="stylesheet">
        <link href="../css/base.css" rel="stylesheet">
        <link id="hljs-light" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/docco.min.css" >
        <link id="hljs-dark" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github-dark.min.css" disabled>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="..">ECE Common Course Tutorials</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-collapse" aria-controls="navbar-collapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="nav-item">
                                <a href=".." class="nav-link">Home</a>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Tutorials</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../tut0-ecelinux/" class="dropdown-item">ECE Linux Server Remote Access</a>
</li>
                                    
<li>
    <a href="../tut1-linux-cli/" class="dropdown-item">Linux Command Line Basics</a>
</li>
                                    
<li>
    <a href="../tut2-git/" class="dropdown-item">Using Git</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown"  aria-expanded="false">Guides</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../doc0-coding-style/" class="dropdown-item">ECE C/C++ Coding Conventions</a>
</li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle active" aria-current="page" role="button" data-bs-toggle="dropdown"  aria-expanded="false">ECE2400</a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../sec1-gcc/" class="dropdown-item">Section 2: Compiling and Running C Programs</a>
</li>
                                    
<li>
    <a href="../sec2-cmake/" class="dropdown-item">Section 3: C Build and Test Frameworks</a>
</li>
                                    
<li>
    <a href="../sec3-debug/" class="dropdown-item">Section 4: C Debugging, Testing, Formatting</a>
</li>
                                    
<li>
    <a href="../sec7-sort/" class="dropdown-item">Section 7: Sorting Lab</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active" aria-current="page">Section 8: Object-Oriented Programming Lab</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ms-md-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-bs-toggle="modal" data-bs-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../sec7-sort/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" class="nav-link disabled">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-bs-toggle="collapse" data-bs-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-body-tertiary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-bs-level="1"><a href="#section-8-object-oriented-programming-lab" class="nav-link">Section 8: Object-Oriented Programming Lab</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-bs-level="2"><a href="#1-getting-the-code" class="nav-link">1. Getting the Code</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#2-implementing-the-constructor-destructor-push-front" class="nav-link">2. Implementing the Constructor, Destructor, Push Front</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#3-implementing-size-and-at" class="nav-link">3. Implementing Size and At</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#6-implementing-the-copy-constructor-swap-and-assignment-operator" class="nav-link">6. Implementing the Copy Constructor, Swap, and Assignment Operator</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#5-implementing-reverse-v1" class="nav-link">5. Implementing Reverse v1</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#6-evaluating-reverse-v1" class="nav-link">6. Evaluating Reverse v1</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#7-implementing-reverse-v2" class="nav-link">7. Implementing Reverse v2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#8-evaluating-reverse-v2" class="nav-link">8. Evaluating Reverse v2</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-bs-level="2"><a href="#10-extensions-to-try-on-your-own" class="nav-link">10. Extensions to Try On Your Own</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="section-8-object-oriented-programming-lab">Section 8: Object-Oriented Programming Lab</h1>
<p>In this discussion, we will implement, test, and evaluate an
object-oriented list data structure using C++.</p>
<h2 id="1-getting-the-code">1. Getting the Code</h2>
<p>As usual, log into <code>ecelinux</code> with VS Code. You can clone the starter code from our GitHub:</p>
<pre><code class="language-bash">$ git clone git@github.com:cornell-ece2400/ece2400-sec08-2025.git ece2400-sec08
$ cd ece2400-sec08
$ tree
</code></pre>
<p>The repository includes the following files:</p>
<ul>
<li><code>CMakeLists.txt</code> : CMake configuration script to generate Makefile</li>
<li><code>include/ece2400-stdlib.h</code> : Header file for course standard library</li>
<li><code>src/ece2400-stdlib.cc</code> : Source code for course standard library</li>
<li><code>include/SListInt.h</code> : Header file for list</li>
<li><code>src/SListInt.cc</code> : Source code for list</li>
<li><code>src/slist-int-adhoc.cc</code> : Ad-hoc test program for list</li>
<li><code>test/slist-int-directed-test.cc</code> : Directed test cases for list</li>
<li><code>eval/slist-int-eval.cc</code> : Evaluation program for list</li>
<li><code>scripts/*-eval.sh</code> : Bash shell scripts for running evaluation</li>
<li><code>scripts/*-plot.py</code> : Python scripts for plotting</li>
<li><code>scripts/build.sh</code> : Builds the project</li>
<li><code>scripts/test.sh</code> : Builds and tests the project</li>
</ul>
<p>Take a look at the <code>SListInt.h</code> header file to understand all of the
public member functions we will be implementing in this lab.</p>
<ul>
<li><code>SListInt()</code>: default constructor</li>
<li><code>~SListInt()</code>: destructor</li>
<li><code>SListInt(const SListInt&amp; lst)</code>: copy constructor</li>
<li><code>void swap(SListInt&amp; lst)</code>: swap this list with given list</li>
<li><code>SListInt&amp; operator=(const SListInt&amp; lst)</code>: assignment operator</li>
<li><code>void push_front(int v)</code>: push item on front of list</li>
<li><code>int size() cont</code>: return number of items in the list</li>
<li><code>int at(int idx) const</code>: return copy of item at given index (for reading)</li>
<li><code>int&amp; at(int idx)</code>: return reference to item at given index (for writing)</li>
<li><code>void reverse_v1()</code>: reverse all items in list using algorithm v1</li>
<li><code>void reverse_v2()</code>: reverse all items in list using algorithm v2</li>
<li><code>void print() const</code>: print the list</li>
</ul>
<h2 id="2-implementing-the-constructor-destructor-push-front">2. Implementing the Constructor, Destructor, Push Front</h2>
<p>Let's start by taking a look at these functions:</p>
<ul>
<li><code>SListInt()</code>: default constructor</li>
<li><code>~SListInt()</code>: destructor</li>
<li><code>void push_front(int v)</code>: push item on front of list</li>
</ul>
<p>We have implemented the default constructor for you. Implement
<code>push_front</code> based on the code discussed in lecture. We have started the
implementation of the destructor for you. Add the code to delete the
node. When you are finished taking a look use adhoc testing to quickly
see if your data structure is basically working:</p>
<pre><code class="language-bash">$ g++ -Iinclude -Wall -o slist-int-adhoc src/slist-int-adhoc.cc src/SListInt.cc
$ ./slist-int-adhoc
</code></pre>
<p>From here on out, you should really just use the build script:</p>
<pre><code class="language-bash">$ ./scripts/build.sh
$ ./build/src/slist-int-adhoc
</code></pre>
<p>Until you implement all the functions, you will see errors like this:</p>
<pre><code>slist-int-adhoc: src/SListInt.cc:89: void SListInt::push_front(int): 
  Assertion `false &amp;&amp; &quot;Replace this with your push_front code&quot;' failed.
</code></pre>
<h2 id="3-implementing-size-and-at">3. Implementing Size and At</h2>
<p>Obviously, we want to do more than just ad-hoc testing, but we need some
way to check what is in the slist before we can write real directed test
cases. Let's next implement these functions:</p>
<ul>
<li><code>int size() cont</code>: return number of items in the list</li>
<li><code>int at(int idx) const</code>: return copy of item at given index (for reading)</li>
<li><code>int&amp; at(int idx)</code>: return reference to item at given index (for writing)</li>
</ul>
<p>We have already implemented the <code>size</code> member functions for you. Notice
how we have two versions of <code>at</code>: the <code>const</code> version is automatically
used by the compiler when reading an item and the non-<code>const</code> version is
automatically used by the compiler when writing an item. The non-<code>const</code>
version returns a <em>reference</em> which enables one to directly modify an
item that is stored in the list.</p>
<p>When you are finished, take a look at the first two directed test cases
in <code>slist-int-directed-test.cc</code>. Build and run the test cases like this:</p>
<pre><code class="language-bash">$ ./scripts/build.sh
$ ./build/test/slist-int-directed-test 1
$ ./build/test/slist-int-directed-test 2
</code></pre>
<h2 id="6-implementing-the-copy-constructor-swap-and-assignment-operator">6. Implementing the Copy Constructor, Swap, and Assignment Operator</h2>
<p>Because we need to implement a destructor, the rule of three tells us we
also need to implement a copy constructor and assignment operator. We
have implemented the copy constructor for you, but spend some time
reviewing it. We will be using a copy-and-swap pattern to implement the
assignment operator, so we need to start by implementing the <code>swap</code>
member function. This member functions swaps the internal state between
this list and the given list.</p>
<p>Once you have implemented <code>swap</code> you can now use the <em>copy-and-swap</em>
pattern which reuses the functionality already implemented in the copy
constructor and destructor to implement the overloaded assignment
operator:</p>
<pre><code class="language-cpp">SListInt &amp;SListInt::operator=(const SListInt &amp;lst) {
  SListInt tmp(lst); // create temporary copy of given list
  swap(tmp);         // swap this list with temporary list
  return *this;      // destructor called for temporary list
}
</code></pre>
<p>We first use the copy constructor to make a temporary copy of the given
list. We then swap the head pointers between this list and the temporary
list. Now this list has a copy of all of the nodes in the given list, and
the temporary list has all of the nodes which used to be in this list.
When the temporary list goes out of scope, the destructor will handle
deleting all of the nodes which used to be in this list. Here is a good
article that discusses this pattern:</p>
<ul>
<li><a href="https://mropert.github.io/2019/01/07/copy_swap_20_years">https://mropert.github.io/2019/01/07/copy_swap_20_years</a></li>
</ul>
<p>When you are finished use the corresponding directed test cases to verify
your implementation is working:</p>
<pre><code class="language-bash">$ ./scripts/build.sh
$ ./build/test/slist-int-directed-test 3
$ ./build/test/slist-int-directed-test 4
$ ./build/test/slist-int-directed-test 5
$ ./build/test/slist-int-directed-test 6
</code></pre>
<h2 id="5-implementing-reverse-v1">5. Implementing Reverse v1</h2>
<p>Take a look at the <code>SListInt.cc</code> source file to find the <code>reverse_v1</code>
member function. This function should reverse all of the items in the
list. Let's use a simple algorithm inspired by the following pseudocode
used for reversing an array:</p>
<pre><code class="language-python">def reverse( x, n ):
  for i in 0 to n/2:
    lo = i
    hi = (n-1) - i
    swap( x[lo], x[hi] )
</code></pre>
<p>You can use the <code>size</code> member function to get the number of items in the
list and you can use the <code>at</code> member function to read and write items in
the list by index. When you are finished use the corresponding directed
test cases to verify your implementation is working:</p>
<pre><code class="language-bash">$ ./scripts/build.sh
$ ./build/test/slist-int-directed-test 7
$ ./build/test/slist-int-directed-test 8
$ ./build/test/slist-int-directed-test 9
</code></pre>
<h2 id="6-evaluating-reverse-v1">6. Evaluating Reverse v1</h2>
<p>We have provided you an evaluation program to quantitatively evaluate the
execution time of the linked list data structure and reverse v1
algorithm. Take a look at this evaluation program in
<code>slist-int-reverse-v1-eval.c</code>. You can build and run this evaluation
program like this:</p>
<pre><code class="language-bash">$ ./scripts/eval.sh
</code></pre>
<p>You will see that the evaluation program takes one command line argument
specifying the size of the input array. Let's do an experiment to see how
the execution time of the reverse v1 algorithm grows as a function of the
input array size.</p>
<pre><code class="language-bash">$ ./scripts/eval.sh 200
</code></pre>
<p>While we could run each experiment individually, let's automate this by
using a Bash for loop to run a command multiple times with different
parameters in a single step. We could enter the Bash for loop on the
command line, but let's put it in a Bash script instead so we can easily
run it. A Bash script is just a file that contains a sequence of Linux
commands that you can run together. We have provided you a Bash script
that runs several experiments and saves all of the results in a file
named <code>slist-int-reverse-v1-eval.txt</code>. You can look at the Bash script in
<code>scripts/slist-int-reverse-v1-eval.sh</code>. You can run the commands in the
Bash script by using the <code>source</code> command:</p>
<pre><code class="language-bash">$ ./scripts/slist-int-reverse-v1-eval.sh
</code></pre>
<p>Instead of using the standard <code>grep</code> and <code>cut</code> command line tools to
extract the average execution time for each experiment, we can just
incorporate reading the results into the beginning of a Python plotting
script. Take a look at an example Python script in
<code>scripts/slist-int-reverse-v1-eval-plot.py</code>. You can easily plot the
result data with a 0th, 1st, and 2nd order polynomial fit using the
script. Before you run the Python script, activate your Python environment from last section, so that you have an install of <code>matplotlib</code>:</p>
<pre><code class="language-bash">$ source env-ece2400/bin/activate
$ python3 ./scripts/slist-int-reverse-v1-plot.py
</code></pre>
<p>Then you can download the PDF file using VS Code and then open the PDF
file on your local workstation or laptop. Do these quantitative results
match your qualitative expectations given what you know about the
asymptotic time complexity of the reverse v1 algorithm?</p>
<h2 id="7-implementing-reverse-v2">7. Implementing Reverse v2</h2>
<p>Let's experiment with an alternative reverse algorithm. This reverse v2
algorithm should use the following steps:</p>
<ol>
<li>Create temporary singly linked list</li>
<li>Push front all values from this list onto temporary list</li>
<li>Swap this list with the temporary list</li>
</ol>
<p>We already implemented this function for you, so it should pass all the tests.</p>
<h2 id="8-evaluating-reverse-v2">8. Evaluating Reverse v2</h2>
<p>We have provided you an evaluation program to quantitatively evaluate the
execution time of the linked list data structure and reverse v2
algorithm. You can build and run this evaluation program like this:</p>
<pre><code class="language-bash">$ ./scripts/eval.sh 2000
</code></pre>
<p>We have provided you a Bash script and two Python plotting scripts
similar in spirit to what we worked with in a previous section. Let's run
the bash script and create the plots.</p>
<pre><code class="language-bash">$ ./scripts/slist-int-reverse-v2-eval.sh
$ python3 ./scripts/slist-int-reverse-v2-plot.py
$ python3 ./scripts/slist-plot-all.py
</code></pre>
<p>Then you can download the PDF files for both plots using VS Code and then
open the PDF file on your local workstation or laptop. Do these
quantitative results match your qualitative expectations given what you
know about the asymptotic time complexity of reverse v1 vs v2 algorithms?</p>
<h2 id="10-extensions-to-try-on-your-own">10. Extensions to Try On Your Own</h2>
<p>The code used in this discussion section serves as an excellent framework
for continuing to explore object-oriented programming on your own.
Consider copying over the code for a C++ string class presented elsewhere
in the course so you can implement a list of strings (<code>SListStr</code>) data
structure.</p></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
                <p>Copyright &copy; 2024 Christopher Batten, ECE Course Staff</p>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script src="../js/bootstrap.bundle.min.js"></script>
        <script>
            var base_url = "..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../js/base.js"></script>
        <script src="../search/main.js"></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p>From here you can search these documents. Enter your search terms below.</p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results" data-no-results-text="No results found"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
